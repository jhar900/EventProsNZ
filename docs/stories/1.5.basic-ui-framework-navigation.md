# Story 1.5: Basic UI Framework & Navigation

## Status

Draft

## Story

**As a** user,  
**I want** to navigate the platform with a consistent, responsive interface,  
**so that** I can easily access different features and understand my current location.

## Acceptance Criteria

1. Responsive navigation header with role-based menu items
2. Mobile hamburger menu implementation, sidenav for login portal on larger screen sizes
3. Tailwind CSS and shadcn/ui components integrated
4. Basic page layouts for different user types
5. Loading states and error boundaries
6. Consistent color scheme with orange primary color (#f18c30)
7. Lucide React icons integrated
8. Basic accessibility features implemented

## Tasks / Subtasks

- [ ] Set up shadcn/ui component library (AC: 3)
  - [ ] Install shadcn/ui CLI and dependencies
  - [ ] Configure Tailwind CSS with custom theme
  - [ ] Set up component registry and configuration
  - [ ] Install core UI components (Button, Input, Card, etc.)
  - [ ] Configure custom color scheme with orange primary (#f18c30)
- [ ] Create responsive navigation header (AC: 1, 2)
  - [ ] Create `Header` component with role-based menu items
  - [ ] Implement mobile hamburger menu with slide-out navigation
  - [ ] Create desktop navigation with user menu dropdown
  - [ ] Add role-based menu item visibility (event_manager, contractor, admin)
  - [ ] Implement responsive breakpoints and mobile-first design
- [ ] Build layout components (AC: 4)
  - [ ] Create `MainLayout` component for public pages
  - [ ] Create `DashboardLayout` component for authenticated users
  - [ ] Create `AdminLayout` component for admin users
  - [ ] Create `AuthLayout` component for authentication pages
  - [ ] Add consistent spacing and container structure
- [ ] Implement loading states and error boundaries (AC: 5)
  - [ ] Create `LoadingSpinner` component with different sizes
  - [ ] Create `ErrorBoundary` component for error handling
  - [ ] Create `Skeleton` components for loading placeholders
  - [ ] Add loading states to navigation and page transitions
  - [ ] Implement error fallback UI components
- [ ] Set up Lucide React icons (AC: 7)
  - [ ] Install Lucide React icon library
  - [ ] Create icon component wrapper for consistent usage
  - [ ] Add navigation icons (menu, user, settings, etc.)
  - [ ] Add action icons (edit, delete, save, etc.)
  - [ ] Optimize icon bundle size with tree shaking
- [ ] Implement accessibility features (AC: 8)
  - [ ] Add ARIA labels and roles to navigation components
  - [ ] Implement keyboard navigation for all interactive elements
  - [ ] Add focus management for modals and dropdowns
  - [ ] Ensure proper color contrast ratios
  - [ ] Add screen reader support for dynamic content
- [ ] Create page layout templates (AC: 4)
  - [ ] Create homepage layout with hero section
  - [ ] Create dashboard layout with sidebar navigation
  - [ ] Create form page layout with consistent styling
  - [ ] Create list page layout with filters and pagination
  - [ ] Create detail page layout with breadcrumbs
- [ ] Set up responsive design system (AC: 1, 2)
  - [ ] Configure Tailwind breakpoints for mobile, tablet, desktop
  - [ ] Create responsive utility classes
  - [ ] Implement mobile-first CSS approach
  - [ ] Add responsive typography scale
  - [ ] Test responsive behavior across devices

## Dev Notes

### Previous Story Insights

This story builds on:

- **Story 1.1**: Project setup with Next.js and Supabase integration
- **Story 1.2**: Database schema with user tables and role management
- **Story 1.3**: Authentication system with role-based access
- **Story 1.4**: Basic user management with admin functionality

The UI framework will provide the foundation for all user interfaces and ensure consistent navigation and user experience across the platform.

### Design System Specifications

[Source: architecture/components.md#core-ui-components]
The UI framework will implement the following design system:

**Color Scheme:**

- Primary: Orange (#f18c30)
- Secondary: Blue (#3b82f6)
- Success: Green (#10b981)
- Warning: Yellow (#f59e0b)
- Error: Red (#ef4444)
- Neutral: Gray scale (50-950)

**Typography:**

- Font Family: Inter (primary), system fonts (fallback)
- Headings: 2xl, xl, lg, base, sm, xs
- Body: base, sm, xs
- Line Heights: tight, snug, normal, relaxed, loose

**Spacing:**

- Container: max-width with responsive padding
- Sections: consistent vertical rhythm
- Components: 8px grid system
- Margins: 4, 8, 12, 16, 20, 24, 32, 40, 48, 64px

### Component Specifications

[Source: architecture/components.md#component-hierarchy]
The UI framework will use the following components:

**Layout Components:**

- `Header` - Navigation header with user menu
- `Sidebar` - Dashboard navigation sidebar
- `Footer` - Site footer with links
- `Breadcrumb` - Navigation breadcrumbs
- `Container` - Page content wrapper
- `MainLayout` - Public page layout
- `DashboardLayout` - Authenticated user layout
- `AdminLayout` - Admin user layout
- `AuthLayout` - Authentication page layout

**Navigation Components:**

- `NavMenu` - Main navigation menu
- `UserMenu` - User dropdown menu
- `MobileMenu` - Mobile hamburger menu
- `Breadcrumb` - Page breadcrumb navigation
- `Pagination` - Page navigation controls

**UI Components (shadcn/ui):**

- `Button` - Primary, secondary, ghost, destructive variants
- `Input` - Text input with validation states
- `Card` - Content card container
- `Badge` - Status and category badges
- `Avatar` - User profile images
- `Skeleton` - Loading placeholders
- `Alert` - Alert messages
- `Toast` - Notification toasts
- `Dialog` - Modal dialogs
- `Sheet` - Slide-out panels

### File Locations

[Source: architecture/components.md#component-hierarchy]
Based on the project structure guide:

- `components/layout/` - Layout components
  - `components/layout/Header.tsx` - Navigation header
  - `components/layout/Sidebar.tsx` - Dashboard sidebar
  - `components/layout/Footer.tsx` - Site footer
  - `components/layout/MainLayout.tsx` - Public layout
  - `components/layout/DashboardLayout.tsx` - Dashboard layout
  - `components/layout/AdminLayout.tsx` - Admin layout
  - `components/layout/AuthLayout.tsx` - Auth layout
- `components/ui/` - shadcn/ui base components
- `components/common/` - Common utility components
  - `components/common/LoadingSpinner.tsx` - Loading spinner
  - `components/common/ErrorBoundary.tsx` - Error boundary
  - `components/common/Icon.tsx` - Icon wrapper
- `lib/ui/` - UI utilities and configurations
  - `lib/ui/theme.ts` - Theme configuration
  - `lib/ui/colors.ts` - Color palette
  - `lib/ui/typography.ts` - Typography scale
- `app/globals.css` - Global styles and Tailwind configuration

### Technical Constraints

[Source: architecture/tech-stack.md + architecture/components.md]

- **UI Library**: shadcn/ui with Tailwind CSS 3.4+
- **Icons**: Lucide React with tree shaking optimization
- **Responsive Design**: Mobile-first approach with Tailwind breakpoints
- **Accessibility**: WCAG 2.1 AA compliance with ARIA labels and keyboard navigation
- **Performance**: Optimized bundle size with code splitting
- **Browser Support**: Modern browsers (Chrome, Firefox, Safari, Edge)
- **Color Scheme**: Orange primary (#f18c30) with consistent design tokens

### Responsive Design Specifications

**Breakpoints:**

- Mobile: 320px - 767px
- Tablet: 768px - 1023px
- Desktop: 1024px+

**Navigation Behavior:**

- Mobile: Hamburger menu with slide-out navigation
- Tablet: Collapsible navigation with user menu
- Desktop: Full navigation with sidebar for dashboard

**Layout Structure:**

```typescript
// Example layout structure
<MainLayout>
  <Header />
  <main>
    <Container>
      {children}
    </Container>
  </main>
  <Footer />
</MainLayout>

<DashboardLayout>
  <Header />
  <div className="flex">
    <Sidebar />
    <main className="flex-1">
      <Container>
        {children}
      </Container>
    </main>
  </div>
</DashboardLayout>
```

### Accessibility Implementation

[Source: architecture/components.md#accessibility]
**Accessibility Features:**

- ARIA labels and roles for all interactive elements
- Keyboard navigation support for all components
- Focus management for modals and dropdowns
- Color contrast ratios meeting WCAG 2.1 AA standards
- Screen reader support for dynamic content
- Skip links for main content navigation
- Proper heading hierarchy (h1-h6)

**Keyboard Navigation:**

- Tab navigation through all interactive elements
- Enter/Space activation for buttons and links
- Arrow keys for menu navigation
- Escape key for closing modals and dropdowns
- Focus indicators visible on all focusable elements

### Testing

[Source: architecture/testing.md#testing-strategy]
**Testing Standards:**

- **Component Testing**: Jest + React Testing Library for UI components
- **Visual Testing**: Storybook for component documentation and testing
- **Accessibility Testing**: jest-axe for accessibility validation
- **Responsive Testing**: Manual testing across different screen sizes
- **Test File Location**: `__tests__/ui/` directory
- **Test Scenarios**: Component rendering, user interactions, responsive behavior, accessibility
- **Coverage Requirements**: 80% coverage for UI components and layout logic

### Performance Considerations

**Bundle Optimization:**

- Tree shaking for Lucide React icons
- Code splitting for layout components
- Lazy loading for non-critical components
- Optimized Tailwind CSS with purged unused styles
- Image optimization with Next.js Image component

**Loading Performance:**

- Skeleton components for loading states
- Progressive enhancement for JavaScript features
- Critical CSS inlining for above-the-fold content
- Font optimization with font-display: swap

### State Management

[Source: architecture/components.md#state-management-architecture]
**UI State Management:**

```typescript
interface UIStore {
  sidebarOpen: boolean;
  mobileMenuOpen: boolean;
  theme: "light" | "dark";
  setSidebarOpen: (open: boolean) => void;
  setMobileMenuOpen: (open: boolean) => void;
  setTheme: (theme: "light" | "dark") => void;
}
```

## Change Log

| Date       | Version | Description            | Author       |
| ---------- | ------- | ---------------------- | ------------ |
| 2024-09-22 | 1.0     | Initial story creation | Scrum Master |

## Dev Agent Record

### Agent Model Used

_To be populated by Dev Agent_

### Debug Log References

_To be populated by Dev Agent_

### Completion Notes List

_To be populated by Dev Agent_

### File List

_To be populated by Dev Agent_

## QA Results

_To be populated by QA Agent_
