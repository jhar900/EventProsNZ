# Story 1.1: Project Setup & Infrastructure

## Status

Draft

## Story

**As a** developer,  
**I want** to set up the Next.js project with Supabase integration and Vercel deployment,  
**so that** I have a solid foundation for building the Event Pros NZ platform.

## Acceptance Criteria

1. Next.js 14 project created with App Router and TypeScript
2. Supabase project configured with authentication and database
3. Vercel deployment pipeline established with staging and production environments
4. Environment variables configured for all third-party services
5. Basic project structure with clear separation of components, pages, and utilities
6. ESLint, Prettier, and TypeScript strict mode configured
7. Git repository initialized with proper .gitignore and README

## Tasks / Subtasks

- [ ] Initialize Next.js 14 project with TypeScript and App Router (AC: 1)
  - [ ] Create new Next.js project using `npx create-next-app@latest`
  - [ ] Configure TypeScript with strict mode enabled
  - [ ] Set up App Router structure in `app/` directory
  - [ ] Configure `next.config.js` for optimal performance
- [ ] Set up Supabase integration (AC: 2)
  - [ ] Create Supabase project and obtain API keys
  - [ ] Install Supabase client library (`@supabase/supabase-js`)
  - [ ] Configure Supabase client with environment variables
  - [ ] Set up authentication configuration
  - [ ] Configure database connection settings
- [ ] Establish Vercel deployment pipeline (AC: 3)
  - [ ] Connect GitHub repository to Vercel
  - [ ] Configure staging and production environments
  - [ ] Set up environment variables in Vercel dashboard
  - [ ] Configure build settings and deployment triggers
  - [ ] Test deployment pipeline with sample changes
- [ ] Configure environment variables (AC: 4)
  - [ ] Create `.env.local` file for local development
  - [ ] Create `.env.example` file with required variables
  - [ ] Configure Supabase environment variables
  - [ ] Set up Vercel environment variables for staging/production
  - [ ] Document all required environment variables
- [ ] Set up project structure (AC: 5)
  - [ ] Create `components/` directory with subdirectories
  - [ ] Create `lib/` directory for utilities and configurations
  - [ ] Create `hooks/` directory for custom React hooks
  - [ ] Create `stores/` directory for Zustand state management
  - [ ] Create `types/` directory for TypeScript definitions
  - [ ] Create `utils/` directory for helper functions
- [ ] Configure development tools (AC: 6)
  - [ ] Install and configure ESLint with Next.js rules
  - [ ] Install and configure Prettier with consistent formatting
  - [ ] Set up TypeScript strict mode configuration
  - [ ] Configure VS Code settings for consistent development
  - [ ] Set up pre-commit hooks for code quality
- [ ] Initialize Git repository (AC: 7)
  - [ ] Initialize Git repository with `git init`
  - [ ] Create comprehensive `.gitignore` file
  - [ ] Create initial `README.md` with project documentation
  - [ ] Make initial commit with project setup
  - [ ] Push to GitHub repository

## Dev Notes

### Previous Story Insights

This is the first story in the project, so no previous story context exists.

### Data Models

[Source: architecture/data-models.md#user]
The project will use the following core data models:

- **User**: Core user entity with id, email, role (event_manager|contractor|admin), created_at, updated_at, is_verified, last_login
- **Profile**: Extended user profile with user_id, first_name, last_name, phone, address, profile_photo_url, bio, preferences
- **BusinessProfile**: Business-specific information for contractors with company_name, business_address, nzbn, description, service_areas, social_links, is_verified, verification_date

### API Specifications

[Source: architecture/api-specification.md#rest-api-specification]
The project will implement a REST API with:

- Base URL: `https://api.eventpros.co.nz/v1` (production), `https://staging-api.eventpros.co.nz/v1` (staging)
- Authentication: Supabase Auth with JWT tokens
- Key endpoints: `/auth/register`, `/auth/login`, `/users/me`, `/events`, `/contractors`, `/enquiries`, `/jobs`
- Real-time subscriptions for live updates using Supabase real-time capabilities

### Component Specifications

[Source: architecture/components.md#frontend-component-architecture]
The frontend will use:

- **Framework**: Next.js 14 with App Router and TypeScript
- **UI Library**: shadcn/ui components with Tailwind CSS
- **State Management**: Zustand for client state
- **Component Structure**: Organized in `components/` with subdirectories for ui/, forms/, layout/, features/, common/
- **File Organization**: `src/app/` for pages, `src/components/` for reusable components, `src/lib/` for utilities

### File Locations

[Source: architecture/components.md#component-hierarchy]
Based on the project structure guide:

- `app/` - Next.js App Router pages with route groups for auth and dashboard
- `components/ui/` - shadcn/ui base components
- `components/forms/` - Form components
- `components/layout/` - Layout components
- `components/features/` - Feature-specific components
- `components/common/` - Common utility components
- `lib/` - Utilities and configurations
- `hooks/` - Custom React hooks
- `stores/` - Zustand state management
- `types/` - TypeScript type definitions
- `utils/` - Helper functions

### Technical Constraints

[Source: architecture/tech-stack.md]

- **Frontend Language**: TypeScript 5.3+
- **Frontend Framework**: Next.js 14.0+ with App Router
- **UI Component Library**: shadcn/ui (latest)
- **State Management**: Zustand 4.4+
- **Backend**: Supabase Edge Functions with TypeScript
- **Database**: PostgreSQL 15+
- **Authentication**: Supabase Auth
- **File Storage**: Supabase Storage
- **CSS Framework**: Tailwind CSS 3.4+
- **Build Tool**: Next.js with Turbopack bundler

### Testing

[Source: architecture/testing.md#testing-strategy]
**Testing Standards:**

- **Frontend Testing**: Jest + React Testing Library for unit and integration tests
- **Backend Testing**: Jest + Supertest for API testing
- **E2E Testing**: Playwright for end-to-end testing
- **Test File Location**: `__tests__/` directory with subdirectories for components, api, integration
- **Testing Frameworks**: Jest for unit tests, Playwright for E2E tests
- **Coverage Requirements**: 80% coverage for branches, functions, lines, and statements
- **Test Configuration**: Jest config in `jest.config.js`, Playwright config in `playwright.config.ts`

## Change Log

| Date       | Version | Description            | Author       |
| ---------- | ------- | ---------------------- | ------------ |
| 2024-09-22 | 1.0     | Initial story creation | Scrum Master |

## Dev Agent Record

### Agent Model Used

_To be populated by Dev Agent_

### Debug Log References

_To be populated by Dev Agent_

### Completion Notes List

_To be populated by Dev Agent_

### File List

_To be populated by Dev Agent_

## QA Results

_To be populated by QA Agent_
