# Story 8.1: Event Manager Job Posting

## Status

Draft

## Story

**As an** event manager,  
**I want** to post detailed job requirements when I can't find suitable contractors,  
**so that** I can attract the right service providers for my event.

## Acceptance Criteria

1. Job posting form with event details and requirements
2. Can use details from 'My events' if they have already created events
3. Service type selection and categorization
4. Budget range and timeline specification
5. Location and service area requirements
6. Job description and special requirements
7. Contact information and response preferences
8. Job posting status (active, filled, completed, cancelled)
9. Filled, completed and cancelled jobs get removed from the job board
10. Job posting analytics and view tracking
11. Job posting guidelines and best practices
12. Required fields to ensure quality postings
13. Job posting preview before submission

## Tasks / Subtasks

- [ ] Create job posting form component (AC: 1, 3, 4, 5, 6, 7, 12)
  - [ ] Build JobForm component with form validation
  - [ ] Implement service category selection dropdown
  - [ ] Add budget range input fields (min/max)
  - [ ] Add location input with Mapbox integration
  - [ ] Add timeline specification fields
  - [ ] Add job description textarea with character limits
  - [ ] Add special requirements section
  - [ ] Add contact information fields
  - [ ] Add response preferences options
  - [ ] Implement form validation and error handling
- [ ] Integrate with existing events data (AC: 2)
  - [ ] Add "Use from My Events" functionality
  - [ ] Pre-populate form fields from selected event
  - [ ] Allow editing of pre-populated data
- [ ] Implement job status management (AC: 8, 9)
  - [ ] Add status field to Job data model
  - [ ] Create status update functionality
  - [ ] Implement automatic job board filtering
  - [ ] Add status change notifications
- [ ] Add job posting preview functionality (AC: 13)
  - [ ] Create JobPreview component
  - [ ] Show formatted job posting as it will appear
  - [ ] Allow editing before submission
  - [ ] Add preview validation
- [ ] Implement job posting analytics (AC: 10)
  - [ ] Add view tracking to Job model
  - [ ] Create analytics dashboard for job posters
  - [ ] Track application counts and engagement
  - [ ] Add performance metrics display
- [ ] Add job posting guidelines and validation (AC: 11, 12)
  - [ ] Create guidelines component
  - [ ] Implement required field validation
  - [ ] Add content quality checks
  - [ ] Create best practices tips
- [ ] Create job posting API endpoints
  - [ ] POST /jobs - Create job posting
  - [ ] PUT /jobs/{jobId} - Update job posting
  - [ ] DELETE /jobs/{jobId} - Delete job posting
  - [ ] GET /jobs/{jobId} - Get job details
  - [ ] Implement proper authorization checks
- [ ] Add job posting management UI
  - [ ] Create "My Job Postings" page
  - [ ] Add job editing functionality
  - [ ] Add job status management
  - [ ] Add analytics view for job posters

## Dev Notes

### Data Models

- **Job**: Core job posting entity with fields for title, description, job_type ('event_manager' | 'contractor_internal'), service_category, budget_range_min/max, location, is_remote, status ('active' | 'filled' | 'completed' | 'cancelled'), posted_by_user_id, created_at
- **JobApplication**: Contractor applications to jobs with cover_letter, attachments, status tracking
- **User**: Job poster relationship via posted_by_user_id
- **Event**: Integration for pre-populating job details from existing events

### API Endpoints

- **POST /jobs**: Create job posting with validation
- **PUT /jobs/{jobId}**: Update job posting (owner only)
- **DELETE /jobs/{jobId}**: Delete job posting (owner only)
- **GET /jobs/{jobId}**: Get job details with view tracking
- **GET /jobs**: List jobs with filtering by job_type, service_category, status

### Components Architecture

- **JobForm**: Main form component with validation and submission
- **JobPreview**: Preview component showing formatted job posting
- **JobCard**: Display component for job listings
- **JobFilters**: Filtering component for job search
- **JobStatusBadge**: Status display component

### Integration Points

- **Mapbox API**: Location input and service area mapping
- **Event System**: Pre-population from existing events
- **User Management**: Job poster identification and permissions
- **File Upload**: Attachment support for job applications
- **Analytics**: View tracking and performance metrics

### Security Considerations

- Job posting ownership validation
- Input sanitization for job descriptions
- File upload security for attachments
- Rate limiting for job posting creation
- Content moderation for job postings

### Performance Requirements

- Efficient job listing with pagination
- Optimized database queries for job search
- Caching for frequently accessed job data
- Lazy loading for job attachments

### Testing

- **Test file location**: `__tests__/components/features/jobs/`
- **Test standards**: Jest + React Testing Library
- **Testing frameworks**: Unit tests for components, integration tests for API endpoints
- **Specific requirements**: Test form validation, job creation flow, status management, and analytics tracking

## Change Log

| Date       | Version | Description            | Author       |
| ---------- | ------- | ---------------------- | ------------ |
| 2024-12-19 | 1.0     | Initial story creation | Scrum Master |

## Dev Agent Record

_This section will be populated by the development agent during implementation_

### Agent Model Used

_To be filled by dev agent_

### Debug Log References

_To be filled by dev agent_

### Completion Notes List

_To be filled by dev agent_

### File List

_To be filled by dev agent_

## QA Results

_Results from QA Agent review will be populated here_
